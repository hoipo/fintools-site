(function(e){function t(t){for(var n,r,o=t[0],i=t[1],c=t[2],s=0,d=[];s<o.length;s++)r=o[s],Object.prototype.hasOwnProperty.call(l,r)&&l[r]&&d.push(l[r][0]),l[r]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);f&&f(t);while(d.length)d.shift()();return u.push.apply(u,c||[]),a()}function a(){for(var e,t=0;t<u.length;t++){for(var a=u[t],n=!0,o=1;o<a.length;o++){var i=a[o];0!==l[i]&&(n=!1)}n&&(u.splice(t--,1),e=r(r.s=a[0]))}return e}var n={},l={history:0},u=[];function r(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=n,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],i=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var f=i;u.push([1,"chunk-vendors"]),a()})({1:function(e,t,a){e.exports=a("ec74")},bb17:function(e,t,a){},bcdf:function(e,t,a){"use strict";var n=a("bb17"),l=a.n(n);l.a},ec74:function(e,t,a){"use strict";a.r(t);a("6611"),a("450d");var n=a("e772"),l=a.n(n),u=(a("1f1a"),a("4e4b")),r=a.n(u),o=(a("10cb"),a("f3ad")),i=a.n(o),c=(a("eca7"),a("3787")),f=a.n(c),s=(a("425f"),a("4105")),d=a.n(s),p=(a("9d4c"),a("e450")),_=a.n(p),b=(a("a7cc"),a("df33")),m=a.n(b),g=(a("1951"),a("eedf")),v=a.n(g),h=(a("e960"),a("b35b")),y=a.n(h),O=(a("f4f9"),a("c2cc")),j=a.n(O),w=(a("7a0f"),a("0f6c")),x=a.n(w),M=(a("b8e0"),a("a4c4")),S=a.n(M),P=(a("5466"),a("ecdf")),k=a.n(P),D=(a("38a0"),a("ad41")),T=a.n(D),$=(a("de31"),a("c69e")),C=a.n($),F=(a("a673"),a("7b31")),J=a.n(F),z=(a("adec"),a("3d2d")),E=a.n(z),H=(a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("2b0e")),q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("el-container",[a("el-header",[e._v("白银基金套利工具")]),a("el-main",[a("el-form",{staticClass:"form-inline",attrs:{inline:!0,model:e.setting}},[a("el-form-item",{attrs:{label:"数据条数"}},[a("el-select",{staticClass:"limit-select",attrs:{placeholder:"数据条数"},model:{value:e.setting.limit,callback:function(t){e.$set(e.setting,"limit",t)},expression:"setting.limit"}},e._l(10,(function(e){return a("el-option",{key:e,attrs:{label:10*e,value:10*e}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,size:"small"}},[a("el-table-column",{attrs:{prop:"date",label:"日期"}}),a("el-table-column",{attrs:{prop:"ag_future_previous_settlement_price",label:"期货昨结算"}}),a("el-table-column",{attrs:{prop:"ag_future_averge_price",label:"期货均价"}}),a("el-table-column",{attrs:{prop:"ag_future_price",label:"期货现价"}}),a("el-table-column",{attrs:{prop:"ag_future_distance",label:"现均差价"}}),a("el-table-column",{attrs:{prop:"ag_fund_previous_net_value",label:"基金昨天净值"}}),a("el-table-column",{attrs:{prop:"ag_fund_price",label:"基金收盘价"}}),a("el-table-column",{attrs:{prop:"ag_fund_cap",label:"基金规模(万份)"}}),a("el-table-column",{attrs:{prop:"ag_fund_valuation",label:"今日基金估值"}}),a("el-table-column",{attrs:{prop:"ag_fund_net_value",label:"基金今天净值"}}),a("el-table-column",{attrs:{prop:"ag_fund_valuation_premium",label:"今日估算溢价"}}),a("el-table-column",{attrs:{prop:"ag_fund_actual_premium",label:"今日实际溢价"}}),a("el-table-column",{attrs:{prop:"valuation_difference",label:"误差"}})],1)],1)],1)],1)},A=[],B=(a("d81d"),a("d3b7"),a("0fb7"),a("f529")),G=a.n(B),I={name:"History",data:function(){return{list:[],setting:{limit:10}}},mounted:function(){this.fetchData()},methods:{onSubmit:function(){this.fetchData()},fetchData:function(){var e=this;fetch("/api/get_ag_history?limit=".concat(this.setting.limit)).then((function(e){return e.json()})).then((function(t){e.list=t.map((function(e){var t=e.ag_future_price-e.ag_future_averge_price,a=Math.round(e.ag_fund_previous_net_value*(e.ag_future_averge_price/e.ag_future_previous_settlement_price)*1e4)/1e4,n=Math.round(1e4*(e.ag_fund_price/a-1))/100+"%",l=e.ag_fund_net_value?Math.round(1e4*(e.ag_fund_price/e.ag_fund_net_value-1))/100+"%":"-",u=e.ag_fund_net_value?Math.round(100*(parseFloat(l)-parseFloat(n)))/100+"%":"-";return Object.assign(e,{ag_fund_net_value:e.ag_fund_net_value||"-",ag_future_distance:t,ag_fund_valuation:a,ag_fund_valuation_premium:n,ag_fund_actual_premium:l,valuation_difference:u})})),G()({message:"共获取了".concat(e.list.length,"条数据"),center:!0,type:"success",duration:2e3})}))}}},K=I,L=(a("bcdf"),a("2877")),N=Object(L["a"])(K,q,A,!1,null,null,null),Q=N.exports;a("0fae");H["default"].config.productionTip=!1,H["default"].use(E.a),H["default"].use(J.a),H["default"].use(C.a),H["default"].use(T.a),H["default"].use(k.a),H["default"].use(S.a),H["default"].use(x.a),H["default"].use(j.a),H["default"].use(y.a),H["default"].use(v.a),H["default"].use(m.a),H["default"].use(_.a),H["default"].use(d.a),H["default"].use(f.a),H["default"].use(i.a),H["default"].use(r.a),H["default"].use(l.a),new H["default"]({render:function(e){return e(Q)}}).$mount("#app")}});
//# sourceMappingURL=history.dfe0f50b.js.map